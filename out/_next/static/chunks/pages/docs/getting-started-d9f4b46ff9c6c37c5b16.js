(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[153],{2802:function(e,n,t){"use strict";var a=t(5893),r=t(1163),i=function(e){e.height;return(0,a.jsx)("svg",{width:"140",height:"140",viewBox:"0 0 291 69",fill:"none"})},o={"en-US":"Scaling Decentralized Finance"};n.Z={github:"https://github.com/manifoldfinance/documentation",docsRepositoryBase:"https://github.com/manifoldfinance/documentation/blob/master/pages",titleSuffix:" \u2013 Manifold Finance",search:!0,unstable_stork:!0,logo:function(){var e=(0,r.useRouter)().locale;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i,{height:18}),(0,a.jsx)("span",{className:"mx-2 font-extrabold hidden md:inline select-none",children:"Manifold Finance"}),(0,a.jsx)("span",{className:"text-gray-600 font-normal hidden lg:!inline whitespace-no-wrap",children:o[e]})]})},head:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/favicon/apple-touch-icon.png"}),(0,a.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon/favicon-32x32.png"}),(0,a.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon/favicon-16x16.png"}),(0,a.jsx)("link",{rel:"manifest",href:"/favicon/site.webmanifest"}),(0,a.jsx)("link",{rel:"mask-icon",href:"/favicon/safari-pinned-tab.svg",color:"#000000"}),(0,a.jsx)("meta",{name:"msapplication-TileColor",content:"#ffffff"}),(0,a.jsx)("meta",{name:"theme-color",content:"#ffffff"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,a.jsx)("meta",{httpEquiv:"Content-Language",content:"en"}),(0,a.jsx)("meta",{name:"description",content:"Scaling Decentralized Finance"}),(0,a.jsx)("meta",{name:"og:description",content:"Scaling Decentralized Finance"}),(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{name:"twitter:site",content:"@foldfinance"}),(0,a.jsx)("meta",{name:"twitter:image",content:"https://pbs.twimg.com/profile_images/1389765714551189504/UO8fuMRI_400x400.jpg"}),(0,a.jsx)("meta",{name:"og:title",content:"Manifold Finance Documentation"}),(0,a.jsx)("meta",{name:"og:url",content:"https://docs.manifoldfinance.com"}),(0,a.jsx)("meta",{name:"og:image",content:"https://pbs.twimg.com/profile_images/1389765714551189504/UO8fuMRI_400x400.jpg"}),(0,a.jsx)("meta",{name:"apple-mobile-web-app-title",content:"Manifold Finance Documentation"}),(0,a.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css",media:"print",onLoad:"this.media='all'"})]}),footerEditLink:function(e){switch(e.locale){case"zh-CN":return"\u5728 GitHub \u4e0a\u7f16\u8f91\u672c\u9875";case"es-ES":return"Edite esta p\xe1gina en GitHub";case"ja":return"Github \u3067\u7de8\u96c6\u3059\u308b";default:return"Edit this page on GitHub"}},footerText:function(e){switch(e.locale){case"zh-CN":return(0,a.jsxs)("a",{href:"https://manifoldfinance.com/?utm_source=swr_zh-cn",target:"_blank",rel:"noopener",className:"inline-flex items-center no-underline text-current font-semibold",children:[(0,a.jsx)("span",{className:"mr-2",children:"\u7531"}),(0,a.jsx)("span",{className:"mr-2",children:(0,a.jsx)("manifoldfinance",{})}),"\u9a71\u52a8"]});case"es-ES":return(0,a.jsxs)("a",{href:"https://manifoldfinance.com/?utm_source=swr_es-es",target:"_blank",rel:"noopener",className:"inline-flex items-center no-underline text-current font-semibold",children:[(0,a.jsx)("span",{className:"mr-2",children:"Desarrollado por"}),(0,a.jsx)("span",{className:"mr-2",children:(0,a.jsx)("manifoldfinance",{})})]});case"ja":return(0,a.jsxs)("a",{href:"https://manifoldfinance.com/?utm_source=swr_ja",target:"_blank",rel:"noopener",className:"inline-flex items-center no-underline text-current font-semibold",children:[(0,a.jsx)("span",{className:"mr-2",children:"\u63d0\u4f9b"}),(0,a.jsx)("span",{className:"mr-2",children:(0,a.jsx)("manifoldfinance",{})})]});default:return(0,a.jsxs)("a",{href:"https://manifoldfinance.com/?utm_source=swr",target:"_blank",rel:"noopener",className:"inline-flex items-center no-underline text-current font-semibold",children:[(0,a.jsx)("span",{className:"mr-1",children:"Powered by"}),"Ethereum",(0,a.jsx)("span",{children:(0,a.jsx)("manifoldfinance",{})})]})}},i18n:[{locale:"en-US",text:"English"},{locale:"es-ES",text:"Espa\xf1ol"},{locale:"zh-CN",text:"\u7b80\u4f53\u4e2d\u6587"},{locale:"ja",text:"\u65e5\u672c\u8a9e"}]}},9684:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return j}});var a=t(7375),r=t(6156),i=(t(7294),t(2763)),o=t(1163),s=t(7829),l=t.n(s),c=t(3805),m=t(2802);function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}var d=function(e){return(0,c.withSSG)(l()({filename:"getting-started.en-US.mdx",route:"/docs/getting-started",meta:{},pageMap:[{name:"docs",children:[{name:"getting-started",route:"/docs/getting-started",locale:"en-US"},{name:"mev-client",route:"/docs/mev-client",locale:"en-US"}],route:"/docs"},{name:"examples",children:[{name:"basic",route:"/examples/basic",frontMatter:{title:"Basic Usage",full:!0},locale:"en-US"}],route:"/examples"},{name:"index",route:"/",frontMatter:{title:"Manifold Finance"},locale:"en-US"},{name:"meta.json",meta:{index:{title:"Introduction",type:"nav",hidden:!0},docs:{title:"Docs",type:"nav"},YCabal:{title:"YCabal",type:"nav"},blog:{title:"Blog",type:"nav"}},locale:"en-US"}]},m.Z))(e)};function h(e){var n=e.components,t=(0,a.Z)(e,["components"]);return(0,i.kt)(d,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({components:n},t),(0,i.kt)("h2",null,"Technical Overview"),(0,i.kt)("h3",null,"User Example"),(0,i.kt)("p",null,"Proposed end-user transaction example for interacting with the YCabal"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},'NOTE: Since the JSON-RPC spec allows responses to be returned in a\ndifferent order than sent, we need a mechanism for choosing a\ncanonical id from a list that doesn\'t depend on the order. This\nchooses the "minimum" id by an arbitrary ordering: the smallest string\nif possible, otherwise the smallest number, otherwise null.')),(0,i.kt)("pre",null,(0,i.kt)("code",{className:"language-jsx",parentName:"pre"},"order = {\n    Give: ETH,\n    Want: DAI,\n    SlippageLimit: 10%,\n    Amount: 1000ETH,\n    Cabal: 0xabc...,\n    FeesIn: DAI,\n    TargetDEX: SushiSwap,\n    Deadline: time.Now() + 1*time.Minute\n    Signature: sign(order.SignBytes())\n}\n")),(0,i.kt)("p",null,"Now if the Cabal broadcasts this transaction with an arbitrage order,\nthe transaction contains 2 orders:"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Note: the transaction below is a mock-up for the proposed ",(0,i.kt)("em",{parentName:"p"},"data\nfields"))),(0,i.kt)("pre",null,(0,i.kt)("code",{className:"language-jsx",parentName:"pre"},"transactions = [\n    {\n        Give: ETH,\n        Want: DAI,\n        SlippageLimit: 10%,\n        Amount: 1000ETH,\n        Cabal: 0xabc...,\n        FeesIn: DAI,\n        TargetDEX: SushiSwap,\n        Deadline: time.Now() + 1*time.Minute\n        Signature: sign(order.SignBytes())\n    },\n    {\n        Give: DAI,\n        Want: ETH,\n        SlippageLimit: 1%,\n        Amount: 10ETH,\n        Cabal: 0xabc...,\n        FeesIn: DAI,\n        TargetDEX: SushiSwap,\n        Deadline: time.Now() + 1*time.Minute\n        Signature: sign(order.SignBytes()),\n        IsBackbone Cabal: true,\n        TransferProfitTo: transactions[0].signer\n    }\n]\n")),(0,i.kt)("p",null,"The arbitrage profit generated by the second order is sent to the\n",(0,i.kt)("inlineCode",{parentName:"p"},"msg.sender")," of the first order."),(0,i.kt)("p",null,"The first order will still lose 5%(assumption) in slippage."),(0,i.kt)("p",null,"Arbitrage profits will rarely be more than the slippage loss."),(0,i.kt)("p",null,"If someone front runs the transaction sent by the Cabal:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"They pay for the gas while post confirmation of transaction the fees\nfor order1 goes to the relayer in the signed order."),(0,i.kt)("li",{parentName:"ol"},"They lose 5% in slippage as our real user does.")),(0,i.kt)("h2",null,"Engine"),(0,i.kt)("p",null,"YCabal uses a batch auction-based matching engine to execute orders.\nBatch auctions were chosen to reduce the impact of frontrunning on the\nexchange."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"All orders for the given market are collected.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Orders beyond their time-in-force are canceled.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Orders are placed into separate lists by market side, and aggregate\nsupply and demand curves are calculated.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"The matching engine discovers the price at which the aggregate supply\nand demand curves cross, which yields the clearing price. If there is\na horizontal cross - i.e., two prices for which aggregate supply and\ndemand are equal - then the clearing price is the midpoint between\nthe two prices.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"If both sides of the market have equal volume, then all orders are completely filled. If one side has more volume than the other, then\nthe side with higher volume is rationed pro-rata based on how much its volume exceeds the other side."))),(0,i.kt)("p",null,"For example, if aggregate demand is 100 and aggregate supply is 90, then every order on the demand side of the market will be matched by 90%."),(0,i.kt)("p",null,"Orders are sorted based on their price, and order ID. Order IDs are\ngenerated at post time and is the only part of the matching engine that\nis time-dependent. However, the oldest order IDs are matched first so\nthere is no incentive to post an order ahead of someone else\u2019s."))}h.isMDXComponent=!0;var u=h;function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var b=function(e){(0,o.useRouter)().locale;return(0,i.kt)(u,g(g({},e),{},{mdxType:"Page_0"}))};function x(e){var n=e.components,t=(0,a.Z)(e,["components"]);return(0,i.kt)(b,g({components:n},t))}x.isMDXComponent=!0;var j=x},4935:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/getting-started",function(){return t(9684)}])}},function(e){e.O(0,[843,774,888,179],(function(){return n=4935,e(e.s=n);var n}));var n=e.O();_N_E=n}]);