---
title: YCabal
---


import Callout from 'nextra-theme-docs/callout'
import Features from 'components/features'
import Bleed from 'nextra-theme-docs/bleed'


# Overview

## Engine

YCabal uses a batch auction-based matching engine to execute orders.
Batch auctions were chosen to reduce the impact of frontrunning on the
exchange.

1. All orders for the given market are collected.

2. Orders beyond their time-in-force are canceled.

3. Orders are placed into separate lists by market side, and aggregate
   supply and demand curves are calculated.

4. The matching engine discovers the price at which the aggregate supply
   and demand curves cross, which yields the clearing price. If there is
   a horizontal cross - i.e., two prices for which aggregate supply and
   demand are equal - then the clearing price is the midpoint between
   the two prices.

5. If both sides of the market have equal volume, then all orders are
   completely filled. If one side has more volume than the other, then
   the side with higher volume is rationed pro-rata based on how much
   its volume exceeds the other side. For example, if aggregate demand
   is 100 and aggregate supply is 90, then every order on the demand
   side of the market will be matched by 90%.

Orders are sorted based on their price, and order ID. Order IDs are
generated at post time and is the only part of the matching engine that
is time-dependent. However, the oldest order IDs are matched first so
there is no incentive to post an order ahead of someone elseâ€™s.
